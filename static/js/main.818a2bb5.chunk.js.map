{"version":3,"sources":["BooksAPI.js","BookShelfChanger.js","Book.js","BookShelfComponent.js","ListBooksContent.js","ListBooks.js","SearchBooks.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","concat","then","res","json","data","books","BookShelfChanger","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","value","title","handleChange","bind","assertThisInitialized","event","setState","target","callback","options","map","element","idx","react_default","a","createElement","key","className","defaultValue","onChange","disabled","React","Component","Book","valueCalled","book","shelf","id","method","objectSpread","Content-Type","body","JSON","stringify","handleBookUpdateCallback","stateBookId","style","width","height","backgroundImage","imageLinks","thumbnail","src_BookShelfChanger","bookId","handleCallback","authors","BookShelfComponent","handleBookCallback","booksRender","entries","_ref","_ref2","slicedToArray","src_Book","name","ListBooksContent","fromEntries","filter","currentlyReadingBooks","filter_books_dict_by_shelf","wantToReadBooks","readBooks","src_BookShelfComponent","ListBooks","src_ListBooksContent","onClick","handleAddBookCallback","SearchBooks","query","onSearchResultsCallback","searchBooks","handleCloseBookCallback","val","onSearchChange","type","placeholder","updateAllBooksState","BooksAPI","allUserBooks","BooksApp","_this2","handleOnResultsCallback","history","push","_this3","searchData","keys","includes","_this4","react_router","path","render","src_ListBooks","handleAppStateCallbackOnBookUpdate","src_SearchBooks","ReactDOM","react_router_dom","src_App","document","getElementById","register"],"mappings":"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","file":"static/js/main.818a2bb5.chunk.js","sourcesContent":["\nconst api = \"https://reactnd-books-api.udacity.com\"\n\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token\nif (!token)\n  token = localStorage.token = Math.random().toString(36).substr(-8)\n\nconst headers = {\n  'Accept': 'application/json',\n  'Authorization': token\n}\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then(res => res.json())\n    .then(data => data.book)\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then(res => res.json())\n    .then(data => data.books)\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: 'PUT',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ shelf })\n  }).then(res => res.json())\n\nexport const search = (query) =>\n  fetch(`${api}/search`, {\n    method: 'POST',\n    headers: {\n      ...headers,\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ query })\n  }).then(res => res.json())\n    .then(data => data.books)\n","import React from 'react'\nimport './App.css'\n\nclass BookShelfChanger extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            value: null,\n            data : [\n                {'title': 'Currently Reading', 'value': 'currentlyReading'},\n                {'title': 'Want to Read', 'value': 'wantToRead'},\n                {'title': 'Read', 'value': 'read'},\n                {'title': 'None', 'value': 'none'},\n            ],\n        };\n\n        this.handleChange = this.handleChange.bind(this);\n    }\n    handleChange(event) {\n        this.setState({value: event.target.value});\n        this.props.callback(event.target.value);\n    }\n    render() {\n        const options = this.state.data.map(function(element, idx)  {\n            return <option key={idx} value={element.value}>{element.title} </option>\n            }\n        )\n        // I wanted to use defaltValue in option but it is strangely not working\n        return (\n        <div className=\"book-shelf-changer\">\n        <select\n            defaultValue=\"move\"\n            onChange={this.handleChange}\n        >\n            <option value=\"move\" disabled>Move to...</option>\n            {options}\n        </select>\n        </div>\n        );\n    }\n}\n\nexport default BookShelfChanger","import React from 'react'\nimport './App.css'\nimport * as BooksAPI from './BooksAPI'\nimport BookShelfChanger from \"./BookShelfChanger\";\n\nclass Book extends React.Component {\n    handleCallback(valueCalled){\n        BooksAPI.update(this.props.data, valueCalled)\n            .then(this.props.handleBookUpdateCallback(this.props.stateBookId, this.props.data.id));\n    }\n    render() {\n        return (\n            <div className=\"book\">\n                <div className=\"book-top\">\n                    <div className=\"book-cover\" style={{\n                        width: 128,\n                        height: 193,\n                        backgroundImage: `url(${ this.props.data.imageLinks.thumbnail })`\n\n                    }}></div>\n                <BookShelfChanger bookId={this.props.data.id} callback={this.handleCallback.bind(this)}/>\n                </div>\n                <div className=\"book-title\">{this.props.data.title}</div>\n                {/* // TODO update authors to a list */}\n                <div className=\"book-authors\">{this.props.data.authors}</div>\n            </div>\n        );\n    }\n}\n\nexport default Book","import React from 'react'\nimport './App.css'\nimport Book from \"./Book\";\n// TODO move to function component.\nclass BookShelfComponent extends React.Component {\n  render() {\n    let handleBookCallback = this.props.handleBookUpdateCallback\n    const booksRender = Object.entries(this.props.books).map(function([bookId, data], idx) {\n        return (\n            <li key={idx}>\n            <Book stateBookId={idx} data={data} handleBookUpdateCallback={handleBookCallback.bind(this)} />\n            </li>\n        )\n        ;\n    });\n\n    return (\n\n      <div className=\"bookshelf\">\n        <h2 className=\"bookshelf-title\">{this.props.name}</h2>\n        <div className=\"bookshelf-books\">\n          <ol className=\"books-grid\">\n            {booksRender}\n          </ol>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default BookShelfComponent","import React from 'react'\nimport './App.css'\nimport BookShelfComponent from \"./BookShelfComponent\";\n\nclass ListBooksContent extends React.Component {\n  filter_books_dict_by_shelf(data, shelf) {\n    return Object.fromEntries(Object.entries(data).filter(([k, v]) => v.shelf === shelf));\n  }\n  render() {\n    let currentlyReadingBooks = this.filter_books_dict_by_shelf(this.props.books,\"currentlyReading\");\n    let wantToReadBooks = this.filter_books_dict_by_shelf(this.props.books,\"wantToRead\");\n    let readBooks = this.filter_books_dict_by_shelf(this.props.books,\"read\");\n    let notInShelfBooks = this.filter_books_dict_by_shelf(this.props.books,\"undefined\");\n    return (\n\n      <div className=\"list-books-content\">\n        <div>\n          <BookShelfComponent handleBookUpdateCallback={this.props.handleBookUpdateCallback.bind(this)} name={'Currently Reading'} books={currentlyReadingBooks} />\n          <BookShelfComponent handleBookUpdateCallback={this.props.handleBookUpdateCallback.bind(this)} name={'Want to Read'} books={wantToReadBooks} />\n          <BookShelfComponent handleBookUpdateCallback={this.props.handleBookUpdateCallback.bind(this)} name={'Read'} books={readBooks} />\n          {/*<BookShelfComponent handleBookUpdateCallback={this.props.handleBookUpdateCallback.bind(this)} name={'NotInSelf'} books={notInShelfBooks} />*/}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ListBooksContent","import React from 'react'\nimport './App.css'\nimport ListBooksContent from \"./ListBooksContent\";\n\nclass ListBooks extends React.Component {\n  render() {\n    return (\n        <div className=\"list-books\">\n          <div className=\"list-books-title\">\n            <h1>MyReads</h1>\n          </div>\n          <ListBooksContent books={this.props.books} handleBookUpdateCallback={this.props.handleBookUpdateCallback.bind(this)} />\n          <div className=\"open-search\">\n            <button onClick={this.props.handleAddBookCallback}>Add a book</button>\n          </div>\n        </div>\n    );\n  }\n}\n\nexport default ListBooks","import React from 'react'\nimport './App.css'\nimport Book from \"./Book\";\n\nclass SearchBooks extends React.Component {\n    onSearchChange(query){\n        this.props.onSearchResultsCallback(query)\n    }\n  render() {\n        let handleBookCallback = this.props.handleBookUpdateCallback\n      let searchBooks;\n      if(this.props.searchBooks){\n        searchBooks = Object.entries(this.props.searchBooks).map(function([bookId, data], idx) {\n            return (\n                <li key={idx}>\n                <Book stateBookId={idx} data={data} handleBookUpdateCallback={handleBookCallback.bind(this)} />\n                </li>\n            );\n        });\n      }\n\n    return (\n        <div className=\"search-books\">\n            <div className=\"search-books-bar\">\n              <button className=\"close-search\" onClick={this.props.handleCloseBookCallback}>Close</button>\n              <div className=\"search-books-input-wrapper\">\n                {/*\n                  NOTES: The search from BooksAPI is limited to a particular set of search terms.\n                  You can find these search terms here:\n                  https://github.com/udacity/reactnd-project-myreads-starter/blob/master/SEARCH_TERMS.md\n\n                  However, remember that the BooksAPI.search method DOES search by title or author. So, don't worry if\n                  you don't find a specific author or title. Every search is limited by search terms.\n                */}\n                <input onChange={(val) => this.onSearchChange(val.target.value)} type=\"text\" placeholder=\"Search by title or author\"/>\n\n              </div>\n            </div>\n            <div className=\"search-books-results\">\n              <ol className=\"books-grid\">{searchBooks}</ol>\n            </div>\n        </div>\n    );\n  }\n}\n\nexport default SearchBooks","import React from 'react'\nimport {Route} from \"react-router-dom\";\nimport * as BooksAPI from './BooksAPI'\nimport './App.css'\nimport ListBooks from \"./ListBooks\";\nimport SearchBooks from \"./SearchBooks\";\n\nfunction updateAllBooksState() {\n    BooksAPI.getAll()\n    .then(allUserBooks => {\n        let data = {}\n        allUserBooks.map(value => {\n            data[value.id] = value;\n        })\n        this.setState({'data': data});\n    });\n}\n\nclass BooksApp extends React.Component {\n  constructor (props) {\n    super(props);\n    this.state = {\n        data: {},\n    };\n    this.handleOnResultsCallback = this.handleOnResultsCallback.bind(this);\n  }\n\n  handleAddBookCallback(history){\n      history.push('/search')\n  }\n  handleCloseBookCallback(history){\n      history.push('/')\n      updateAllBooksState.call(this);\n  }\n  handleOnResultsCallback(query){\n    BooksAPI.search(query)\n    .then(searchData => {\n        let deepCopyData = {...this.state.data};\n        let searchBooks = {};\n        searchData.map(value => {\n            if(!Object.keys(this.state.data).includes(value.id)){\n                searchBooks[value.id] = value;\n            }\n        })\n        this.setState({'searchBooks': searchBooks});\n    });\n  }\n  handleAppStateCallbackOnBookUpdate(stateBookId, bookId){\n      updateAllBooksState.call(this);\n      /* This harder approach is not working properly yet\n      // TODO this is wrong and it fails multiple times :(\n      let copyFoo = [ ...this.state.data]; //create a new copy\n      BooksAPI.get(bookId).then(fetchData => {\n          copyFoo[stateBookId] = fetchData;\n          this.setState({data: copyFoo});\n      });\n\n       */\n  }\n  componentDidMount() {\n      updateAllBooksState.call(this);\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n          <Route path='/' render={({history}) => (\n               <ListBooks handleAddBookCallback={this.handleAddBookCallback.bind(this, history)} books={this.state.data} handleBookUpdateCallback={this.handleAppStateCallbackOnBookUpdate.bind(this)}/>\n          )}\n            />\n          <Route path=\"/search\" render={({history}) => (\n          <SearchBooks searchBooks={this.state.searchBooks} handleCloseBookCallback={this.handleCloseBookCallback.bind(this, history)} onSearchResultsCallback={this.handleOnResultsCallback} handleBookUpdateCallback={this.handleAppStateCallbackOnBookUpdate.bind(this)}/>\n          )}\n                 />\n      </div>\n    );\n  }\n}\n\nexport default BooksApp\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\nimport {BrowserRouter} from 'react-router-dom'\nimport {register} from 'register-service-worker'\n\nReactDOM.render(\n    <BrowserRouter>\n        <App />\n    </BrowserRouter>\n    , document.getElementById('root')\n);\nregister();\n"],"sourceRoot":""}