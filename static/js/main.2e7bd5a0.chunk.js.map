{"version":3,"sources":["api/BooksAPI.js","components/BookShelfChanger.js","components/Book.js","components/BookShelf.js","Constants.js","components/ListBooksContent.js","components/ListBooks.js","components/SearchBooks.js","App.js","index.js"],"names":["api","token","localStorage","Math","random","toString","substr","headers","Accept","Authorization","getAll","fetch","concat","then","res","json","data","books","search","query","method","Object","objectSpread","Content-Type","body","JSON","stringify","BookShelfChanger","props","_this","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","title","value","handleChange","bind","assertThisInitialized","event","callback","target","options","map","element","idx","react_default","a","createElement","key","className","defaultValue","onChange","disabled","React","Component","Book","valueCalled","book","shelf","id","handleBookUpdateCallback","thumbnail","undefined","imageLinks","authors","join","style","width","height","backgroundImage","src_components_BookShelfChanger","bookId","handleCallback","BookShelf","handleBookCallback","booksRender","entries","_ref","_","_ref2","slicedToArray","src_components_Book","stateBookId","name","SHELVES","ListBooksContent","fromEntries","filter","allBookShelfs","Constants","_ref3","components_BookShelf","filter_books_dict_by_shelf","ListBooks","handleAddBookCallback","components_ListBooksContent","onClick","SearchBooks","onSearchResultsCallback","searchBooks","handleCloseBookCallback","val","onSearchChange","type","placeholder","updateAllBooksState","_callee2","allUserBooks","regenerator_default","wrap","_context2","prev","next","BooksAPI","sent","setState","stop","BooksApp","handleOnResultsCallback","history","push","searchData","error","keys","_this2","includes","copyData","bookData","_this3","react_router_dom","react_router","exact","path","render","components_ListBooks","handleAppStateCallbackOnBookUpdate","src_components_SearchBooks","ReactDOM","src_App","document","getElementById","register"],"mappings":"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","file":"static/js/main.2e7bd5a0.chunk.js","sourcesContent":["const api = \"https://reactnd-books-api.udacity.com\";\n\n// Generate a unique token for storing your bookshelf data on the backend server.\nlet token = localStorage.token;\nif (!token) token = localStorage.token = Math.random().toString(36).substr(-8);\n\nconst headers = {\n  Accept: \"application/json\",\n  Authorization: token,\n};\n\nexport const get = (bookId) =>\n  fetch(`${api}/books/${bookId}`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.book);\n\nexport const getAll = () =>\n  fetch(`${api}/books`, { headers })\n    .then((res) => res.json())\n    .then((data) => data.books);\n\nexport const update = (book, shelf) =>\n  fetch(`${api}/books/${book.id}`, {\n    method: \"PUT\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ shelf }),\n  }).then((res) => res.json());\n\nexport const search = (query) =>\n  fetch(`${api}/search`, {\n    method: \"POST\",\n    headers: {\n      ...headers,\n      \"Content-Type\": \"application/json\",\n    },\n    body: JSON.stringify({ query }),\n  })\n    .then((res) => res.json())\n    .then((data) => data.books);\n","import React from \"react\";\nimport \"./BookShelfChanger.css\";\nimport PropTypes from 'prop-types';\n\nclass BookShelfChanger extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [\n        { title: \"Currently Reading\", value: \"currentlyReading\" },\n        { title: \"Want to Read\", value: \"wantToRead\" },\n        { title: \"Read\", value: \"read\" },\n        { title: \"None\", value: \"none\" },\n      ],\n    };\n\n    this.handleChange = this.handleChange.bind(this);\n  }\n  handleChange(event) {\n    this.props.callback(event.target.value);\n  }\n  render() {\n    const options = this.state.data.map(function (element, idx) {\n      return (\n        <option key={idx} value={element.value}>\n          {element.title}{\" \"}\n        </option>\n      );\n    });\n    return (\n      <div className=\"book-shelf-changer\">\n        <select defaultValue=\"move\" onChange={this.handleChange}>\n          <option value=\"move\" disabled>\n            Move to...\n          </option>\n          {options}\n        </select>\n      </div>\n    );\n  }\n}\n\nBookShelfChanger.propTypes = {\n  callback: PropTypes.func.isRequired\n}\nexport default BookShelfChanger;\n","import React from \"react\";\nimport \"./Book.css\";\nimport * as BooksAPI from \"../api/BooksAPI\";\nimport BookShelfChanger from \"./BookShelfChanger\";\nimport PropTypes from \"prop-types\";\n\nclass Book extends React.Component {\n  async handleCallback(valueCalled) {\n    await BooksAPI.update(this.props.data, valueCalled);\n    this.props.handleBookUpdateCallback(this.props.data.id, valueCalled);\n  }\n  render() {\n    let thumbnail = \"\";\n    if (this.props.data.imageLinks !== undefined) {\n      thumbnail = this.props.data.imageLinks.thumbnail;\n    }\n    let authors = \"\";\n    if (this.props.data.authors !== undefined){\n        authors = this.props.data.authors.join(\", \");\n    }\n      return (\n      <div className=\"book\">\n        <div className=\"book-top\">\n          <div\n            className=\"book-cover\"\n            style={{\n              width: 128,\n              height: 193,\n              backgroundImage: `url(${thumbnail})`,\n            }}\n          ></div>\n          <BookShelfChanger\n            bookId={this.props.data.id}\n            callback={this.handleCallback.bind(this)}\n          />\n        </div>\n        <div className=\"book-title\">{this.props.data.title}</div>\n        <div className=\"book-authors\">{authors}</div>\n      </div>\n    );\n  }\n}\nBook.propTypes = {\n  data: PropTypes.object.isRequired,\n  handleBookUpdateCallback: PropTypes.func.isRequired,\n}\nexport default Book;\n","import React from \"react\";\nimport \"./BookShelf.css\";\nimport Book from \"./Book\";\nimport PropTypes from \"prop-types\";\n\nfunction BookShelf(props){\n    let handleBookCallback = props.handleBookUpdateCallback;\n    const booksRender = Object.entries(props.books).map(([bookId, data], _) => (\n        <li key={bookId}>\n          <Book\n            stateBookId={bookId}\n            data={data}\n            handleBookUpdateCallback={handleBookCallback.bind(this)}\n          />\n        </li>\n    ));\n\n    return (\n      <div className=\"bookshelf\">\n        <h2 className=\"bookshelf-title\">{props.name}</h2>\n        <div className=\"bookshelf-books\">\n          <ol className=\"books-grid\">{booksRender}</ol>\n        </div>\n      </div>\n    );\n  }\nBookShelf.propTypes = {\n  books: PropTypes.object.isRequired,\n  handleBookUpdateCallback: PropTypes.func.isRequired,\n}\nexport default BookShelf;","export const SHELVES = [\n  {\n    title: 'Currently Reading',\n    id: 'currentlyReading'\n  },\n  {\n    title: 'Want To Read',\n    id: 'wantToRead'\n  },\n  {\n    title: 'Read',\n    id: 'read'\n  }\n];","import React from \"react\";\nimport \"../App.css\";\nimport BookShelf from \"./BookShelf\";\nimport * as Constants from \"../Constants\";\nimport PropTypes from \"prop-types\";\n\nclass ListBooksContent extends React.Component {\n  filter_books_dict_by_shelf(data, shelf) {\n    return Object.fromEntries(\n      Object.entries(data).filter(([k, v]) => v.shelf === shelf)\n    );\n  }\n\n  render() {\n    let allBookShelfs = Constants.SHELVES.map(({title, id}, _) => (\n      <BookShelf\n        handleBookUpdateCallback={this.props.handleBookUpdateCallback.bind(this)}\n        name={title}\n        books={this.filter_books_dict_by_shelf(this.props.books, id)}\n        key={id}\n      />\n    ))\n    return (\n      <div className=\"list-books-content\">\n        <div>\n          {allBookShelfs}\n\n        </div>\n      </div>\n    );\n  }\n}\nListBooksContent.propTypes = {\n  books: PropTypes.object.isRequired,\n  handleBookUpdateCallback: PropTypes.func.isRequired,\n}\nexport default ListBooksContent;\n","import React from \"react\";\nimport \"../App.css\";\nimport ListBooksContent from \"./ListBooksContent\";\nimport PropTypes from \"prop-types\";\n\nconst ListBooks  = ({\nbooks,\nhandleBookUpdateCallback,\nhandleAddBookCallback,\n}) => (\n    <div className=\"list-books\">\n        <div className=\"list-books-title\">\n            <h1>MyReads</h1>\n        </div>\n        <ListBooksContent\n            books={books}\n            handleBookUpdateCallback={handleBookUpdateCallback}\n        />\n        <div className=\"open-search\">\n            <button onClick={handleAddBookCallback}>Add a book</button>\n        </div>\n    </div>\n\n)\n\nListBooks.propTypes = {\n  books: PropTypes.object.isRequired,\n  handleBookUpdateCallback: PropTypes.func.isRequired,\n  handleAddBookCallback: PropTypes.func.isRequired,\n}\nexport default ListBooks;\n","import React from \"react\";\nimport \"./SearchBooks.css\";\nimport Book from \"./Book\";\nimport PropTypes from \"prop-types\";\n\nclass SearchBooks extends React.Component {\n  onSearchChange(query) {\n    this.props.onSearchResultsCallback(query);\n  }\n  render() {\n    let handleBookCallback = this.props.handleBookUpdateCallback;\n    let searchBooks;\n    if (this.props.searchBooks) {\n      searchBooks = Object.entries(this.props.searchBooks).map(function (\n        [bookId, data],\n        idx\n      ) {\n        return (\n          <li key={idx}>\n            <Book\n              stateBookId={idx}\n              data={data}\n              handleBookUpdateCallback={handleBookCallback.bind(this)}\n            />\n          </li>\n        );\n      });\n    }\n\n    return (\n      <div className=\"search-books\">\n        <div className=\"search-books-bar\">\n          <button\n            className=\"close-search\"\n            onClick={this.props.handleCloseBookCallback}\n          >\n            Close\n          </button>\n          <div className=\"search-books-input-wrapper\">\n            {/*\n                  NOTES: The search from BooksAPI is limited to a particular set of search terms.\n                  You can find these search terms here:\n                  https://github.com/udacity/reactnd-project-myreads-starter/blob/master/SEARCH_TERMS.md\n\n                  However, remember that the BooksAPI.search method DOES search by title or author. So, don't worry if\n                  you don't find a specific author or title. Every search is limited by search terms.\n                */}\n            <input\n              onChange={(val) => this.onSearchChange(val.target.value)}\n              type=\"text\"\n              placeholder=\"Search by title or author\"\n            />\n          </div>\n        </div>\n        <div className=\"search-books-results\">\n          <ol className=\"books-grid\">{searchBooks}</ol>\n        </div>\n      </div>\n    );\n  }\n}\nSearchBooks.propTypes = {\n  searchBooks: PropTypes.object,\n  onSearchResultsCallback: PropTypes.func.isRequired,\n  handleBookUpdateCallback: PropTypes.func.isRequired,\n}\nexport default SearchBooks;\n","import React from \"react\";\nimport {BrowserRouter, Route, Switch} from \"react-router-dom\";\nimport * as BooksAPI from \"./api/BooksAPI\";\nimport \"./App.css\";\nimport ListBooks from \"./components/ListBooks\";\nimport SearchBooks from \"./components/SearchBooks\";\n\nasync function updateAllBooksState() {\n  let allUserBooks = await BooksAPI.getAll();\n  let data = {};\n  allUserBooks.map((value) => (data[value.id] = value));\n  this.setState({ data: data });\n}\n\nclass BooksApp extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n    };\n    this.handleOnResultsCallback = this.handleOnResultsCallback.bind(this);\n  }\n\n  handleAddBookCallback(history) {\n    history.push(\"/search\");\n  }\n  handleCloseBookCallback(history) {\n    history.push(\"/\");\n    updateAllBooksState.call(this);\n  }\n  async handleOnResultsCallback(query) {\n    const searchData = await BooksAPI.search(query);\n\n    let searchBooks = {};\n    if (\n      searchData &&\n      (typeof searchData.error === undefined || !searchData.error)\n    ) {\n      searchData\n        .filter((book) => !Object.keys(this.state.data).includes(book.id))\n        .map((value) => (searchBooks[value.id] = value));\n      this.setState({ searchBooks: searchBooks });\n    } else {\n      this.setState({ searchBooks: {} });\n    }\n  }\n  handleAppStateCallbackOnBookUpdate(bookId, valueCalled) {\n    let copyData = { ...this.state.data };\n    let bookData = { ...this.state.data[bookId] };\n    bookData.shelf = valueCalled;\n    copyData[bookId] = bookData;\n    this.setState({ data: copyData });\n  }\n  componentDidMount() {\n    updateAllBooksState.call(this);\n  }\n\n  render() {\n    return (\n      <div className=\"app\">\n        <BrowserRouter>\n        <Switch>\n          <Route\n            exact\n            path=\"/\"\n            render={({ history }) => (\n              <ListBooks\n                handleAddBookCallback={this.handleAddBookCallback.bind(\n                  this,\n                  history\n                )}\n                books={this.state.data}\n                handleBookUpdateCallback={this.handleAppStateCallbackOnBookUpdate.bind(\n                  this\n                )}\n              />\n            )}\n          />\n          <Route\n            exact\n            path=\"/search\"\n            render={({ history }) => (\n              <SearchBooks\n                searchBooks={this.state.searchBooks}\n                handleCloseBookCallback={this.handleCloseBookCallback.bind(\n                  this,\n                  history\n                )}\n                onSearchResultsCallback={this.handleOnResultsCallback}\n                handleBookUpdateCallback={this.handleAppStateCallbackOnBookUpdate.bind(\n                  this\n                )}\n              />\n            )}\n          />\n        </Switch>\n          </BrowserRouter>\n      </div>\n    );\n  }\n}\n\nexport default BooksApp;\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\nimport {register} from 'register-service-worker'\n\nReactDOM.render(\n    <App />\n    , document.getElementById('root')\n);\nregister();\n"],"sourceRoot":""}